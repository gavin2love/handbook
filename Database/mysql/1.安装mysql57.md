# 禁用selinux

	sed -i '/SELINUX/s/enforcing/disabled/' /etc/selinux/config  && setenforce 0  
#建立源

	cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
	curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
	sed -i -e '/mirrors.cloud.aliyuncs.com/d' -e '/mirrors.aliyuncs.com/d' /etc/yum.repos.d/CentOS-Base.repo
	yum -y install epel-release wget vim unzip 
	mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup
	mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup
	curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
	yum clean all && yum makecache
	
# 导入MYSQL源并安装

	wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm
	yum localinstall -y mysql57-community-release-el7-11.noarch.rpm

	修改yum配置 vim /etc/yum.repos.d/mysql-community.repo 
	[mysql-5.7-community]
	name=MySQL 5.7 Community Server
	baseurl=https://mirrors.tuna.tsinghua.edu.cn/mysql/yum/mysql-5.7-community-el7-$basearch/
	enabled=1
	gpgcheck=1
	gpgkey=https://repo.mysql.com/RPM-GPG-KEY-mysql

	yum makecache
	yum install -y mysql-community-server
# 启动 MySQL 服务

	systemctl start mysqld && systemctl enable mysqld
	
# 查看默认root密码

	grep 'temporary password' /var/log/mysqld.log

	# 建议生产环境中mysql安装这完成后一定要运行一次初始化命令
	mysql_secure_installation
# 修改root密码

	shell> mysql -uroot -p
	mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!'; 

	或者
	mysql> set password for 'root'@'localhost'=password('MyNewPass4!'); 

# 修改密码策略
	
	shell> mysql -uroot -p
	mysql> SHOW VARIABLES LIKE 'validate_password%';
	
	更改密码策略为LOW  
	mysql> set global validate_password_policy=0;
	
	关闭密码长度限制，默认为4
	mysql> set global validate_password_length=0;

# 添加远程登录用户
默认只允许root帐户在本地登录，如果要在其它机器上连接mysql，必须添加一个允许远程连接的帐户。或者修改 root 为允许远程连接（不推荐）

添加一个允许远程连接的帐户

	mysql> GRANT ALL PRIVILEGES ON *.* TO 'zhangsan'@'%' IDENTIFIED BY 'Zhangsan2018!' WITH GRANT OPTION;
	
	修改 root 为允许远程连接（不推荐）
	mysql> use mysql;
	mysql> UPDATE user SET Host='%' WHERE User='root';
	mysql> flush privileges;
# 设置默认编码为 utf8
mysql 安装后默认不支持中文，需要修改编码。
修改 /etc/my.cnf 配置文件，在相关节点（没有则自行添加）下添加编码配置，如下：

	[mysqld]
	character-set-server=utf8
	[client]
	default-character-set=utf8
	[mysql]
	default-character-set=utf8
	auto-rehash
## 重启mysql服务，查询编码。可以看到已经改过来了

	shell> systemctl restart mysqld
	shell> mysql -uroot -p
	mysql> show variables like 'character%';

# 防火墙端口方向

	firewall-cmd --zone=public --add-port=3306/tcp --permanent
	firewall-cmd --reload
	firewall-cmd --zone=public --list-all
	
# 默认配置文件路径：
- 配置文件：/etc/my.cnf
- 日志文件：/var/log/mysqld.log
- 服务启动脚本：/usr/lib/systemd/system/mysqld.service
- socket文件：/var/run/mysqld/mysqld.pid